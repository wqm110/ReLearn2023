# JMH version: 1.35
# VM version: JDK 19.0.1, OpenJDK 64-Bit Server VM, 19.0.1+10-jvmci-22.3-b08
# VM invoker: /Library/Java/JavaVirtualMachines/graalvm-ce-java19-22.3.0/Contents/Home/bin/java
# VM options: -XX:ThreadPriorityPolicy=1 -XX:+UnlockExperimentalVMOptions -XX:+EnableJVMCIProduct -XX:JVMCIThreadsPerNativeLibraryRuntime=1 -XX:-UnlockExperimentalVMOptions -javaagent:/Applications/IntelliJ IDEA.app/Contents/lib/idea_rt.jar=52357:/Applications/IntelliJ IDEA.app/Contents/bin -Dfile.encoding=UTF-8 -Dsun.stdout.encoding=UTF-8 -Dsun.stderr.encoding=UTF-8
# Blackhole mode: compiler (auto-detected, use -Djmh.blackhole.autoDetect=false to disable)
# Warmup: 2 iterations, 1 s each
# Measurement: 5 iterations, 1 s each
# Timeout: 10 min per iteration
# Threads: 1 thread, will synchronize iterations
# Benchmark mode: Average time, time/op
# Benchmark: org.example.HashMapCycleTest.entrySet

# Run progress: 0.00% complete, ETA 00:00:42
# Fork: 1 of 1
OpenJDK 64-Bit Server VM warning: -XX:ThreadPriorityPolicy=1 may require system level permission, e.g., being the root user. If the necessary permission is not possessed, changes to priority will be silently ignored.
# Warmup Iteration   1: 1566.986 ns/op
# Warmup Iteration   2: 1532.787 ns/op
Iteration   1: 1348.482 ns/op
Iteration   2: 1209.965 ns/op
Iteration   3: 1208.539 ns/op
Iteration   4: 1217.853 ns/op
Iteration   5: 1226.098 ns/op


Result "org.example.HashMapCycleTest.entrySet":
  1242.187 ±(99.9%) 230.396 ns/op [Average]
  (min, avg, max) = (1208.539, 1242.187, 1348.482), stdev = 59.833
  CI (99.9%): [1011.791, 1472.584] (assumes normal distribution)


# JMH version: 1.35
# VM version: JDK 19.0.1, OpenJDK 64-Bit Server VM, 19.0.1+10-jvmci-22.3-b08
# VM invoker: /Library/Java/JavaVirtualMachines/graalvm-ce-java19-22.3.0/Contents/Home/bin/java
# VM options: -XX:ThreadPriorityPolicy=1 -XX:+UnlockExperimentalVMOptions -XX:+EnableJVMCIProduct -XX:JVMCIThreadsPerNativeLibraryRuntime=1 -XX:-UnlockExperimentalVMOptions -javaagent:/Applications/IntelliJ IDEA.app/Contents/lib/idea_rt.jar=52357:/Applications/IntelliJ IDEA.app/Contents/bin -Dfile.encoding=UTF-8 -Dsun.stdout.encoding=UTF-8 -Dsun.stderr.encoding=UTF-8
# Blackhole mode: compiler (auto-detected, use -Djmh.blackhole.autoDetect=false to disable)
# Warmup: 2 iterations, 1 s each
# Measurement: 5 iterations, 1 s each
# Timeout: 10 min per iteration
# Threads: 1 thread, will synchronize iterations
# Benchmark mode: Average time, time/op
# Benchmark: org.example.HashMapCycleTest.forEachEntrySet

# Run progress: 16.67% complete, ETA 00:00:39
# Fork: 1 of 1
OpenJDK 64-Bit Server VM warning: -XX:ThreadPriorityPolicy=1 may require system level permission, e.g., being the root user. If the necessary permission is not possessed, changes to priority will be silently ignored.
# Warmup Iteration   1: 1262.783 ns/op
# Warmup Iteration   2: 1360.860 ns/op
Iteration   1: 1500.702 ns/op
Iteration   2: 1388.234 ns/op
Iteration   3: 1301.063 ns/op
Iteration   4: 1338.130 ns/op
Iteration   5: 1286.999 ns/op


Result "org.example.HashMapCycleTest.forEachEntrySet":
  1363.026 ±(99.9%) 332.526 ns/op [Average]
  (min, avg, max) = (1286.999, 1363.026, 1500.702), stdev = 86.356
  CI (99.9%): [1030.500, 1695.552] (assumes normal distribution)


# JMH version: 1.35
# VM version: JDK 19.0.1, OpenJDK 64-Bit Server VM, 19.0.1+10-jvmci-22.3-b08
# VM invoker: /Library/Java/JavaVirtualMachines/graalvm-ce-java19-22.3.0/Contents/Home/bin/java
# VM options: -XX:ThreadPriorityPolicy=1 -XX:+UnlockExperimentalVMOptions -XX:+EnableJVMCIProduct -XX:JVMCIThreadsPerNativeLibraryRuntime=1 -XX:-UnlockExperimentalVMOptions -javaagent:/Applications/IntelliJ IDEA.app/Contents/lib/idea_rt.jar=52357:/Applications/IntelliJ IDEA.app/Contents/bin -Dfile.encoding=UTF-8 -Dsun.stdout.encoding=UTF-8 -Dsun.stderr.encoding=UTF-8
# Blackhole mode: compiler (auto-detected, use -Djmh.blackhole.autoDetect=false to disable)
# Warmup: 2 iterations, 1 s each
# Measurement: 5 iterations, 1 s each
# Timeout: 10 min per iteration
# Threads: 1 thread, will synchronize iterations
# Benchmark mode: Average time, time/op
# Benchmark: org.example.HashMapCycleTest.forEachKeySet

# Run progress: 33.33% complete, ETA 00:00:31
# Fork: 1 of 1
OpenJDK 64-Bit Server VM warning: -XX:ThreadPriorityPolicy=1 may require system level permission, e.g., being the root user. If the necessary permission is not possessed, changes to priority will be silently ignored.
# Warmup Iteration   1: 1520.846 ns/op
# Warmup Iteration   2: 1464.565 ns/op
Iteration   1: 1449.423 ns/op
Iteration   2: 1437.908 ns/op
Iteration   3: 1449.558 ns/op
Iteration   4: 1490.181 ns/op
Iteration   5: 1510.778 ns/op


Result "org.example.HashMapCycleTest.forEachKeySet":
  1467.570 ±(99.9%) 120.417 ns/op [Average]
  (min, avg, max) = (1437.908, 1467.570, 1510.778), stdev = 31.272
  CI (99.9%): [1347.153, 1587.987] (assumes normal distribution)


# JMH version: 1.35
# VM version: JDK 19.0.1, OpenJDK 64-Bit Server VM, 19.0.1+10-jvmci-22.3-b08
# VM invoker: /Library/Java/JavaVirtualMachines/graalvm-ce-java19-22.3.0/Contents/Home/bin/java
# VM options: -XX:ThreadPriorityPolicy=1 -XX:+UnlockExperimentalVMOptions -XX:+EnableJVMCIProduct -XX:JVMCIThreadsPerNativeLibraryRuntime=1 -XX:-UnlockExperimentalVMOptions -javaagent:/Applications/IntelliJ IDEA.app/Contents/lib/idea_rt.jar=52357:/Applications/IntelliJ IDEA.app/Contents/bin -Dfile.encoding=UTF-8 -Dsun.stdout.encoding=UTF-8 -Dsun.stderr.encoding=UTF-8
# Blackhole mode: compiler (auto-detected, use -Djmh.blackhole.autoDetect=false to disable)
# Warmup: 2 iterations, 1 s each
# Measurement: 5 iterations, 1 s each
# Timeout: 10 min per iteration
# Threads: 1 thread, will synchronize iterations
# Benchmark mode: Average time, time/op
# Benchmark: org.example.HashMapCycleTest.keySet

# Run progress: 50.00% complete, ETA 00:00:23
# Fork: 1 of 1
OpenJDK 64-Bit Server VM warning: -XX:ThreadPriorityPolicy=1 may require system level permission, e.g., being the root user. If the necessary permission is not possessed, changes to priority will be silently ignored.
# Warmup Iteration   1: 1621.421 ns/op
# Warmup Iteration   2: 1461.946 ns/op
Iteration   1: 1426.109 ns/op
Iteration   2: 1430.841 ns/op
Iteration   3: 1416.593 ns/op
Iteration   4: 1406.583 ns/op
Iteration   5: 1426.330 ns/op


Result "org.example.HashMapCycleTest.keySet":
  1421.291 ±(99.9%) 37.443 ns/op [Average]
  (min, avg, max) = (1406.583, 1421.291, 1430.841), stdev = 9.724
  CI (99.9%): [1383.848, 1458.734] (assumes normal distribution)


# JMH version: 1.35
# VM version: JDK 19.0.1, OpenJDK 64-Bit Server VM, 19.0.1+10-jvmci-22.3-b08
# VM invoker: /Library/Java/JavaVirtualMachines/graalvm-ce-java19-22.3.0/Contents/Home/bin/java
# VM options: -XX:ThreadPriorityPolicy=1 -XX:+UnlockExperimentalVMOptions -XX:+EnableJVMCIProduct -XX:JVMCIThreadsPerNativeLibraryRuntime=1 -XX:-UnlockExperimentalVMOptions -javaagent:/Applications/IntelliJ IDEA.app/Contents/lib/idea_rt.jar=52357:/Applications/IntelliJ IDEA.app/Contents/bin -Dfile.encoding=UTF-8 -Dsun.stdout.encoding=UTF-8 -Dsun.stderr.encoding=UTF-8
# Blackhole mode: compiler (auto-detected, use -Djmh.blackhole.autoDetect=false to disable)
# Warmup: 2 iterations, 1 s each
# Measurement: 5 iterations, 1 s each
# Timeout: 10 min per iteration
# Threads: 1 thread, will synchronize iterations
# Benchmark mode: Average time, time/op
# Benchmark: org.example.HashMapCycleTest.lambda

# Run progress: 66.67% complete, ETA 00:00:15
# Fork: 1 of 1
OpenJDK 64-Bit Server VM warning: -XX:ThreadPriorityPolicy=1 may require system level permission, e.g., being the root user. If the necessary permission is not possessed, changes to priority will be silently ignored.
# Warmup Iteration   1: 657.868 ns/op
# Warmup Iteration   2: 545.575 ns/op
Iteration   1: 550.581 ns/op
Iteration   2: 547.925 ns/op
Iteration   3: 551.043 ns/op
Iteration   4: 553.571 ns/op
Iteration   5: 549.097 ns/op


Result "org.example.HashMapCycleTest.lambda":
  550.444 ±(99.9%) 8.239 ns/op [Average]
  (min, avg, max) = (547.925, 550.444, 553.571), stdev = 2.140
  CI (99.9%): [542.204, 558.683] (assumes normal distribution)


# JMH version: 1.35
# VM version: JDK 19.0.1, OpenJDK 64-Bit Server VM, 19.0.1+10-jvmci-22.3-b08
# VM invoker: /Library/Java/JavaVirtualMachines/graalvm-ce-java19-22.3.0/Contents/Home/bin/java
# VM options: -XX:ThreadPriorityPolicy=1 -XX:+UnlockExperimentalVMOptions -XX:+EnableJVMCIProduct -XX:JVMCIThreadsPerNativeLibraryRuntime=1 -XX:-UnlockExperimentalVMOptions -javaagent:/Applications/IntelliJ IDEA.app/Contents/lib/idea_rt.jar=52357:/Applications/IntelliJ IDEA.app/Contents/bin -Dfile.encoding=UTF-8 -Dsun.stdout.encoding=UTF-8 -Dsun.stderr.encoding=UTF-8
# Blackhole mode: compiler (auto-detected, use -Djmh.blackhole.autoDetect=false to disable)
# Warmup: 2 iterations, 1 s each
# Measurement: 5 iterations, 1 s each
# Timeout: 10 min per iteration
# Threads: 1 thread, will synchronize iterations
# Benchmark mode: Average time, time/op
# Benchmark: org.example.HashMapCycleTest.streamApi

# Run progress: 83.33% complete, ETA 00:00:07
# Fork: 1 of 1
OpenJDK 64-Bit Server VM warning: -XX:ThreadPriorityPolicy=1 may require system level permission, e.g., being the root user. If the necessary permission is not possessed, changes to priority will be silently ignored.
# Warmup Iteration   1: 598.813 ns/op
# Warmup Iteration   2: 567.325 ns/op
Iteration   1: 666.318 ns/op
Iteration   2: 893.909 ns/op
Iteration   3: 791.203 ns/op
Iteration   4: 1056.686 ns/op
Iteration   5: 945.588 ns/op


Result "org.example.HashMapCycleTest.streamApi":
  870.741 ±(99.9%) 573.828 ns/op [Average]
  (min, avg, max) = (666.318, 870.741, 1056.686), stdev = 149.021
  CI (99.9%): [296.913, 1444.570] (assumes normal distribution)


# Run complete. Total time: 00:00:46

REMEMBER: The numbers below are just data. To gain reusable insights, you need to follow up on
why the numbers are the way they are. Use profilers (see -prof, -lprof), design factorial
experiments, perform baseline and negative tests that provide experimental control, make sure
the benchmarking environment is safe on JVM/OS/HW level, ask for reviews from the domain experts.
Do not assume the numbers tell you what you want them to tell.

NOTE: Current JVM experimentally supports Compiler Blackholes, and they are in use. Please exercise
extra caution when trusting the results, look into the generated code to check the benchmark still
works, and factor in a small probability of new VM bugs. Additionally, while comparisons between
different JVMs are already problematic, the performance difference caused by different Blackhole
modes can be very significant. Please make sure you use the consistent Blackhole mode for comparisons.

Benchmark                         Mode  Cnt     Score     Error  Units
HashMapCycleTest.entrySet         avgt    5  1242.187 ± 230.396  ns/op
HashMapCycleTest.forEachEntrySet  avgt    5  1363.026 ± 332.526  ns/op
HashMapCycleTest.forEachKeySet    avgt    5  1467.570 ± 120.417  ns/op
HashMapCycleTest.keySet           avgt    5  1421.291 ±  37.443  ns/op
HashMapCycleTest.lambda           avgt    5   550.444 ±   8.239  ns/op
HashMapCycleTest.streamApi        avgt    5   870.741 ± 573.828  ns/op
